import React, { useState } from 'react';
import { AppSettings } from '../types';

interface AiToolsMenuProps {
  settings: AppSettings;
}

const AiToolsMenu: React.FC<AiToolsMenuProps> = ({ settings }) => {
  const [isOpen, setIsOpen] = useState(false);

  const toggleMenu = () => {
    setIsOpen(!isOpen);
  };

  return (
    <div className="fixed bottom-8 left-6 z-50 flex items-center max-w-[calc(100vw-3rem)]">
      {/* Toggle Button */}
      <div 
        className="flex-shrink-0 flex items-center gap-2 px-4 md:px-6 py-3 bg-[#202124]/80 backdrop-blur-xl border border-white/10 rounded-full cursor-pointer hover:bg-white/10 transition-all duration-300 z-20 shadow-lg"
        onClick={toggleMenu}
      >
        <div className="w-[18px] h-[18px]">
          <svg height="100%" viewBox="0 0 280 280" width="100%" xmlns="http://www.w3.org/2000/svg">
            <path 
              id="aiIcon" 
              style={{ fill: settings.accentColor }} 
              d="M152 178c0-14.359 11.641-26 26-26h76c14.359 0 26.275 11.76 23.393 25.827-10.238 49.97-49.596 89.328-99.566 99.566C163.76 280.275 152 268.359 152 254v-76Zm-24 5.26c0 23.163-28.006 34.764-44.385 18.385L8.782 126.811c-5.35-5.35-8.252-12.794-6.994-20.255 8.778-52.04 48.96-93.412 100.382-103.949C116.237-.275 128 11.641 128 26v157.26ZM0 214.74c0-23.163 28.006-34.764 44.385-18.385l83.609 83.609c.004.004.006.01.006.015a.02.02 0 0 1-.021.021H26c-14.36 0-26-11.641-26-26v-39.26ZM152 26c0-14.36 11.641-26 26-26h76c14.359 0 26 11.64 26 26v76c0 14.359-11.641 26-26 26h-76c-14.359 0-26-11.641-26-26V26Z"
            />
          </svg>
        </div>
        <div className="text-sm font-medium text-gray-200 whitespace-nowrap">AI Tools</div>
      </div>

      {/* Tools List */}
      <div 
        className={`flex flex-nowrap items-center gap-3 pl-4 transition-all duration-500 ease-out origin-left overflow-x-auto no-scrollbar min-w-0 ${
          isOpen 
            ? 'opacity-100 translate-x-0 pointer-events-auto max-w-full pr-4' 
            : 'opacity-0 -translate-x-10 pointer-events-none absolute left-0 w-0'
        }`}
      >
        <ToolLink href="https://chatgpt.com/" label="ChatGPT" accentColor={settings.accentColor}>
            <svg height="100%" viewBox="0 0 24 24" width="100%" xmlns="http://www.w3.org/2000/svg">
                <rect className="fill-white/10" width="100%" height="100%" rx="50%"></rect>
                <path style={{ fill: settings.accentColor }} transform="scale(0.7) translate(5, 5)" d="M9.205 8.765v-2.26c0-.19.071-.333.238-.428l4.543-2.616c.619-.357 1.356-.523 2.117-.523 2.854 0 4.662 2.212 4.662 4.567 0 .166 0 .356-.024.547l-4.71-2.76a.797.797 0 0 0-.856 0zm10.609 8.801v-5.4c0-.333-.143-.57-.429-.737l-5.97-3.473 1.95-1.118a.433.433 0 0 1 .476 0l4.544 2.617c1.308.761 2.188 2.378 2.188 3.948 0 1.808-1.07 3.473-2.76 4.163zM7.802 12.809l-1.95-1.142c-.167-.095-.239-.238-.239-.428V6.006c0-2.545 1.95-4.472 4.591-4.472 1 0 1.927.333 2.712.928L8.23 5.174c-.285.166-.428.404-.428.737v6.898zM12 15.235l-2.795-1.57v-3.33L12 8.765l2.795 1.57v3.33zm1.796 7.23a4.452 4.452 0 0 1-2.712-.927l4.686-2.711c.285-.167.428-.405.428-.738v-6.898l1.974 1.142c.167.095.238.238.238.428v5.233c0 2.545-1.974 4.472-4.614 4.472zm-5.637-5.303-4.544-2.617c-1.308-.761-2.188-2.378-2.188-3.948A4.482 4.482 0 0 1 4.21 6.434v5.423c0 .334.143.571.428.738l5.947 3.449-1.95 1.118a.433.433 0 0 1-.476 0zm-.262 3.9c-2.688 0-4.662-2.021-4.662-4.519 0-.19.024-.38.047-.57l4.686 2.71a.796.796 0 0 0 .857 0l5.97-3.448v2.26c0 .19-.072.333-.238.428l-4.543 2.616c-.619.357-1.356.523-2.117.523Zm5.899 2.83a5.947 5.947 0 0 0 5.827-4.756c2.664-.69 4.377-3.188 4.377-5.733 0-1.665-.714-3.282-1.998-4.448.119-.5.19-.999.19-1.498 0-3.401-2.759-5.946-5.946-5.946-.642 0-1.26.095-1.88.309A5.961 5.961 0 0 0 10.205.107a5.947 5.947 0 0 0-5.827 4.757C1.713 5.554 0 8.052 0 10.597c0 1.665.714 3.282 1.998 4.448-.119.5-.19.999-.19 1.498 0 3.401 2.759 5.947 5.946 5.947.642 0 1.26-.095 1.88-.31a5.96 5.96 0 0 0 4.162 1.713z"></path>
            </svg>
        </ToolLink>

        <ToolLink href="https://gemini.google.com/app" label="Gemini" accentColor={settings.accentColor}>
            <svg height="100%" viewBox="0 0 24 24" width="100%" xmlns="http://www.w3.org/2000/svg">
                <rect className="fill-white/10" height="100%" rx="50%" width="100%"></rect>
                <path style={{ fill: settings.accentColor }} transform="scale(0.66) translate(6, 6)" d="M21.4 10.73a15.434 15.434 0 0 1-4.855-3.275 15.396 15.396 0 0 1-4.013-7.04.548.548 0 0 0-1.064 0A14.45 14.45 0 0 1 10.73 2.6a15.419 15.419 0 0 1-3.274 4.855A15.441 15.441 0 0 1 2.6 10.729c-.707.304-1.437.551-2.184.74a.548.548 0 0 0 0 1.063 14.45 14.45 0 0 1 2.184.739 15.434 15.434 0 0 1 4.855 3.274 15.396 15.396 0 0 1 4.013 7.04A.55.55 0 0 0 12 24c.252 0 .47-.172.532-.416a14.45 14.45 0 0 1 .739-2.184 15.434 15.434 0 0 1 3.274-4.855 15.396 15.396 0 0 1 7.04-4.013A.55.55 0 0 0 24 12a.548.548 0 0 0-.416-.532 14.45 14.45 0 0 1-2.184-.739"></path>
            </svg>
        </ToolLink>

        <ToolLink href="https://copilot.microsoft.com/" label="Copilot" accentColor={settings.accentColor}>
            <svg height="100%" width="100%" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">
                <rect className="fill-white/10" width="100%" height="100%" rx="50%"></rect>
                <path style={{ fill: settings.accentColor, opacity: 0.8 }} d="M19.612 7.42a2.1 2.1 0 0 0-2.018-1.512h-.614a2.106 2.106 0 0 0-2.072 1.725l-1.053 5.736.262-.894a2.105 2.105 0 0 1 2.018-1.516h3.57l1.499.582 1.445-.582h-.423a2.1 2.1 0 0 1-2.018-1.512zm-9.007 15.156a2.106 2.106 0 0 0 2.023 1.52h1.307a2.1 2.1 0 0 0 2.103-2.05l.142-5.53-.298 1.013a2.1 2.1 0 0 1-2.018 1.512h-3.602l-1.284-.698-1.392.698h.413c.939 0 1.76.618 2.023 1.52z"></path>
                <path style={{ fill: settings.accentColor }} d="M17.505 5.903h-7.29c-2.087 0-3.336 2.752-4.167 5.509-.992 3.262-2.286 7.63 1.453 7.63h3.15a2.11 2.11 0 0 0 2.027-1.527 884.084 884.084 0 0 1 2.263-7.801c.382-1.294.702-2.401 1.191-3.095a1.631 1.631 0 0 1 1.373-.716zM12.5 24.097h7.292c2.085 0 3.334-2.758 4.165-5.51.988-3.263 2.281-7.629-1.458-7.629H19.35c-.942 0-1.77.622-2.027 1.53a841.53 841.53 0 0 1-2.263 7.802c-.382 1.294-.703 2.406-1.192 3.095a1.62 1.62 0 0 1-1.369.711z"></path>
            </svg>
        </ToolLink>

        <ToolLink href="https://claude.ai/new/" label="Claude" accentColor={settings.accentColor}>
            <svg height="100%" width="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <rect className="fill-white/10" height="100%" rx="50%" width="100%"></rect>
                <path style={{ fill: settings.accentColor }} transform="scale(0.8) translate(3, 3)" d="m5.92 15.3 3.94-2.2.06-.2-.06-.1h-.2L9 12.76l-2.24-.06-1.96-.1-1.9-.1-.48-.1-.42-.6.04-.3.4-.26.58.04 1.26.1 1.9.12 1.38.08 2.04.24h.32l.04-.14-.1-.08-.08-.08L7.8 10.2 5.68 8.8l-1.12-.82-.6-.4-.3-.4-.12-.84.54-.6.74.06.18.04.74.58 1.6 1.22L9.4 9.2l.3.24.12-.08.02-.06-.14-.22L8.6 7 7.4 4.92l-.54-.86-.14-.52c-.06-.2-.08-.4-.08-.6l.6-.84.36-.1.84.12.32.28.52 1.2.82 1.86 1.3 2.52.4.76.2.68.06.2h.14v-.1l.1-1.44.2-1.74.2-2.24.06-.64.32-.76.6-.4.52.22.4.58-.06.36L14.32 5l-.52 2.42-.3 1.64h.18l.2-.22.82-1.08 1.38-1.72.6-.7.72-.74.46-.36h.86l.62.94-.28.98-.88 1.12-.74.94-1.06 1.42-.64 1.14.06.08h.14l2.4-.52 1.28-.22 1.52-.26.7.32.08.32-.28.68-1.64.4-1.92.4-2.86.66-.04.02.04.06 1.28.12.56.04h1.36l2.52.2.66.4.38.54-.06.4-1.02.52-1.36-.32-3.2-.76-1.08-.26h-.16v.08l.92.9 1.66 1.5 2.12 1.94.1.48-.26.4-.28-.04-1.84-1.4-.72-.6-1.6-1.36h-.1v.14l.36.54 1.96 2.94.1.9-.14.28-.52.2-.54-.12-1.16-1.6-1.2-1.8-.94-1.64-.1.08-.58 6.04-.26.3-.6.24-.5-.4-.28-.6.28-1.24.32-1.6.26-1.28.24-1.58.14-.52v-.04h-.14l-1.2 1.66-1.8 2.46-1.44 1.52-.34.14-.6-.3.06-.56.32-.46 2-2.56 1.2-1.58.8-.92-.02-.1h-.06l-5.28 3.44-.94.12-.4-.4.04-.6.2-.2 1.6-1.1z"></path>
            </svg>
        </ToolLink>

        <ToolLink href="https://chat.deepseek.com/" label="DeepSeek" accentColor={settings.accentColor}>
            <svg height="100%" width="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <rect className="fill-white/10" width="100%" height="100%" rx="50%"></rect>
                <path style={{ fill: settings.accentColor }} transform="scale(0.7) translate(5, 5)" d="M23.748 4.482c-.254-.124-.364.113-.512.234-.051.039-.094.09-.137.136-.372.397-.806.657-1.373.626-.829-.046-1.537.214-2.163.848-.133-.782-.575-1.248-1.247-1.548-.352-.156-.708-.311-.955-.65-.172-.241-.219-.51-.305-.774-.055-.16-.11-.323-.293-.35-.2-.031-.278.136-.356.276-.313.572-.434 1.202-.422 1.84.027 1.436.633 2.58 1.838 3.393.137.093.172.187.129.323-.082.28-.18.552-.266.833-.055.179-.137.217-.329.14a5.526 5.526 0 01-1.736-1.18c-.857-.828-1.631-1.742-2.597-2.458a11.365 11.365 0 00-.689-.471c-.985-.957.13-1.743.388-1.836.27-.098.093-.432-.779-.428-.872.004-1.67.295-2.687.684a3.055 3.055 0 01-.465.137 9.597 9.597 0 00-2.883-.102c-1.885.21-3.39 1.102-4.497 2.623C.082 8.606-.231 10.684.152 12.85c.403 2.284 1.569 4.175 3.36 5.653 1.858 1.533 3.997 2.284 6.438 2.14 1.482-.085 3.133-.284 4.994-1.86.47.234.962.327 1.78.397.63.059 1.236-.03 1.705-.128.735-.156.684-.837.419-.961-2.155-1.004-1.682-.595-2.113-.926 1.096-1.296 2.746-2.642 3.392-7.003.05-.347.007-.565 0-.845-.004-.17.035-.237.23-.256a4.173 4.173 0 001.545-.475c1.396-.763 1.96-2.015 2.093-3.517.02-.23-.004-.467-.247-.588zM11.581 18c-2.089-1.642-3.102-2.183-3.52-2.16-.392.024-.321.471-.235.763.09.288.207.486.371.739.114.167.192.416-.113.603-.673.416-1.842-.14-1.897-.167-1.361-.802-2.5-1.86-3.301-3.307-.774-1.393-1.224-2.887-1.298-4.482-.02-.386.093-.522.477-.592a4.696 4.696 0 011.529-.039c2.132.312 3.946 1.265 5.468 2.774.868.86 1.525 1.887 2.202 2.891.72 1.066 1.494 2.082 2.48 2.914.348.292.625.514.891.677-.802.09-2.14.11-3.054-.614zm1-6.44a.306.306 0 01.415-.287.302.302 0 01.2.288.306.306 0 01-.31.307.303.303 0 01-.304-.308zm3.11 1.596c-.2.081-.399.151-.59.16a1.245 1.245 0 01-.798-.254c-.274-.23-.47-.358-.552-.758a1.73 1.73 0 01.016-.588c.07-.327-.008-.537-.239-.727-.187-.156-.426-.199-.688-.199a.559.559 0 01-.254-.078c-.11-.054-.2-.19-.114-.358.028-.054.16-.186.192-.21.356-.202.767-.136 1.146.016.352.144.618.408 1.001.782.391.451.462.576.685.914.176.265.336.537.445.848.067.195-.019.354-.25.452z"></path>
            </svg>
        </ToolLink>

        <ToolLink href="https://www.perplexity.ai/" label="Perplexity" accentColor={settings.accentColor}>
            <svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" viewBox="0 0 24 24">
                <circle className="fill-white/10" cx="50%" cy="50%" r="50%"></circle>
                <path style={{ fill: settings.accentColor }} transform="scale(0.8) translate(3, 3)" d="m5.735 2l5.695 5.247V2.012h1.109v5.259L18.259 2v5.983h2.349v8.629h-2.342v5.327l-5.727-5.032v5.09h-1.11V16.99L5.742 22v-5.388H3.393v-8.63h2.342zm4.86 7.078H4.5v6.439h1.24v-2.031zM6.85 13.972v5.585l4.58-4.034V9.81zm5.72 1.497l4.588 4.03v-2.887h-.006v-2.646l-4.582-4.16zm5.696.048H19.5v-6.44h-6.047l4.814 4.363zm-1.115-7.534V4.519l-3.76 3.464zm-6.548 0l-3.76-3.464v3.464z"></path>
            </svg>
        </ToolLink>

        <ToolLink href="https://grok.com/" label="Grok" accentColor={settings.accentColor}>
            <svg height="100%" width="100%" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                <rect className="fill-white/10" width="100%" height="100%" rx="50%"></rect>
                <path style={{ fill: settings.accentColor }} transform="scale(0.7) translate(10, 10)" d="M47.658 2.057a.997.997 0 0 0-.668.29l-6.11 6.118a.933.933 0 0 0-.132.111L19.146 30.305a.998.998 0 0 0 1.303 1.508l15.08-11.145a.508.508 0 0 1 .424-.092c.148.041.192.15.207.186 1.781 4.296.822 9.188-2.445 12.46-2.893 2.897-6.865 3.964-10.904 2.928a1.004 1.004 0 0 0-.707.082l-5.31 2.752a1.002 1.002 0 0 0-.028 1.762c2.853 1.595 5.941 2.373 8.986 2.373 4.621 0 9.143-1.793 12.592-5.248 4.4-4.404 6.192-10.644 4.81-16.717a.854.854 0 0 0-.021-.12c-1.756-7.565.373-10.497 5.04-16.929l.335-.464a1.001 1.001 0 0 0-.85-1.584zm-21.662 5.08a17.938 17.938 0 0 0-13.06 5.283C7.87 17.493 6.292 25.346 9.01 31.96c1.684 4.099-1.054 6.975-4.227 10.311-1.132 1.19-2.303 2.42-3.262 3.74a1.001 1.001 0 0 0 1.477 1.335l14.338-12.82a1 1 0 0 0 .098-1.53c-2.685-2.567-3.276-5.512-3.3-7.531-.034-3.106 1.221-6.169 3.45-8.4 2.497-2.503 6.253-3.734 9.809-3.21.203.028.417-.004.605-.101l5.691-2.953a1 1 0 0 0-.023-1.787 13.646 13.646 0 0 0-1.209-.526 17.88 17.88 0 0 0-6.46-1.351z"></path>
            </svg>
        </ToolLink>

        <ToolLink href="https://www.meta.ai/" label="Meta AI" accentColor={settings.accentColor}>
            <svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" viewBox="0 0 24 24">
                <rect className="fill-white/10" width="100%" height="100%" rx="50%"></rect>
                <path style={{ fill: settings.accentColor }} transform="scale(0.72) translate(5, 5)" d="M6.915 4.03c-1.968 0-3.683 1.28-4.871 3.113C.704 9.208 0 11.883 0 14.449c0 .706.07 1.369.21 1.973a7 7 0 0 0 .265.86a5.3 5.3 0 0 0 .371.761c.696 1.159 1.818 1.927 3.593 1.927c1.497 0 2.633-.671 3.965-2.444c.76-1.012 1.144-1.626 2.663-4.32l.756-1.339l.186-.325c.061.1.121.196.183.3l2.152 3.595c.724 1.21 1.665 2.556 2.47 3.314c1.046.987 1.992 1.22 3.06 1.22c1.075 0 1.876-.355 2.455-.843a3.7 3.7 0 0 0 .81-.973c.542-.939.861-2.127.861-3.745c0-2.72-.681-5.357-2.084-7.45c-1.282-1.912-2.957-2.93-4.716-2.93c-1.047 0-2.088.467-3.053 1.308c-.652.57-1.257 1.29-1.82 2.05c-.69-.875-1.335-1.547-1.958-2.056c-1.182-.966-2.315-1.303-3.454-1.303zm10.16 2.053c1.147 0 2.188.758 2.992 1.999c1.132 1.748 1.647 4.195 1.647 6.4c0 1.548-.368 2.9-1.839 2.9c-.58 0-1.027-.23-1.664-1.004c-.496-.601-1.343-1.878-2.832-4.358l-.617-1.028a45 45 0 0 0-1.255-1.98c.07-.109.141-.224.211-.327c1.12-1.667 2.118-2.602 3.358-2.602zm-10.201.553c1.265 0 2.058.791 2.675 1.446c.307.327.737.871 1.234 1.579l-1.02 1.566c-.757 1.163-1.882 3.017-2.837 4.338c-1.191 1.649-1.81 1.817-2.486 1.817c-.524 0-1.038-.237-1.383-.794c-.263-.426-.464-1.13-.464-2.046c0-2.221.63-4.535 1.66-6.088c.454-.687.964-1.226 1.533-1.533a2.26 2.26 0 0 1 1.088-.285"></path>
            </svg>
        </ToolLink>

        <ToolLink href="https://chat.qwen.ai/" label="Qwen" accentColor={settings.accentColor}>
            <svg height="100%" width="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <rect className="fill-white/10" width="100%" height="100%" rx="50%"></rect>
                <path style={{ fill: settings.accentColor }} transform="scale(0.72) translate(5, 5)" d="M12.604 1.34c.393.69.784 1.382 1.174 2.075a.18.18 0 00.157.091h5.552c.174 0 .322.11.446.327l1.454 2.57c.19.337.24.478.024.837-.26.43-.513.864-.76 1.3l-.367.658c-.106.196-.223.28-.04.512l2.652 4.637c.172.301.111.494-.043.77-.437.785-.882 1.564-1.335 2.34-.159.272-.352.375-.68.37-.777-.016-1.552-.01-2.327.016a.099.099 0 00-.081.05 575.097 575.097 0 01-2.705 4.74c-.169.293-.38.363-.725.364-.997.003-2.002.004-3.017.002a.537.537 0 01-.465-.271l-1.335-2.323a.09.09 0 00-.083-.049H4.982c-.285.03-.553-.001-.805-.092l-1.603-2.77a.543.543 0 01-.002-.54l1.207-2.12a.198.198 0 000-.197 550.951 550.951 0 01-1.875-3.272l-.79-1.395c-.16-.31-.173-.496.095-.965.465-.813.927-1.625 1.387-2.436.132-.234.304-.334.584-.335a338.3 338.3 0 012.589-.001.124.124 0 00.107-.063l2.806-4.895a.488.488 0 01.422-.246c.524-.001 1.053 0 1.583-.006L11.704 1c.341-.003.724.032.9.34zm-3.432.403a.06.06 0 00-.052.03L6.254 6.788a.157.157 0 01-.135.078H3.253c-.056 0-.07.025-.041.074l5.81 10.156c.025.042.013.062-.034.063l-2.795.015a.218.218 0 00-.2.116l-1.32 2.31c-.044.078-.021.118.068.118l5.716.008c.046 0 .08.02.104.061l1.403 2.454c.046.081.092.082.139 0l5.006-8.76.783-1.382a.055.055 0 01.096 0l1.424 2.53a.122.122 0 00.107.062l2.763-.02a.04.04 0 00.035-.02.041.041 0 000-.04l-2.9-5.086a.108.108 0 010-.113l.293-.507 1.12-1.977c.024-.041.012-.062-.035-.062H9.2c-.059 0-.073-.026-.043-.077l1.434-2.505a.107.107 0 000-.114L9.225 1.774a.06.06 0 00-.053-.031zm6.29 8.02c.046 0 .058.02.034.06l-.832 1.465-2.613 4.585a.056.056 0 01-.05.029.058.058 0 01-.05-.029L8.498 9.841c-.02-.034-.01-.052.028-.054l.216-.012 6.722-.012z"></path>
            </svg>
        </ToolLink>
      </div>
    </div>
  );
};

const ToolLink: React.FC<{ href: string; label: string; children: React.ReactNode; accentColor: string }> = ({ href, label, children, accentColor }) => (
  <a 
    href={href} 
    className="flex-shrink-0 flex items-center gap-2 px-4 md:px-6 py-3 bg-[#202124]/80 backdrop-blur-xl border border-white/10 rounded-full hover:bg-white/10 transition-all duration-300 group"
  >
    <div className="w-[18px] h-[18px] flex-shrink-0">
      {children}
    </div>
    <span className="text-sm font-medium text-gray-300 group-hover:text-white whitespace-nowrap">
      {label}
    </span>
  </a>
);

export default AiToolsMenu;
